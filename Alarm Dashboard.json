{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "description": "Monitors Kubernetes cluster using Prometheus. Shows overall cluster CPU / Memory / Filesystem usage as well as individual pod, containers, systemd services statistics. Uses cAdvisor metrics only.",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "gnetId": 315,
  "graphTooltip": 0,
  "id": 26,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 167,
      "panels": [
        {
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "displayMode": "auto",
                "filterable": false
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "pod"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 408
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Reason"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "",
                        "url": "https://logs.robomq.io/_plugin/kibana/app/discover#/?_g=(filters:!(),refreshInterval:(pause:!t,value:0),time:(from:now-15m,to:now))&_a=(columns:!(_source),filters:!(('$state':(store:appState),meta:(alias:!n,disabled:!f,index:ae8bae10-e34d-11ed-935f-a9971878b9d8,key:kubernetes.namespace_name.keyword,negate:!f,params:(query:'${__data.fields[2]}'),type:phrase),query:(match_phrase:(kubernetes.namespace_name.keyword:'${__data.fields[2]}'))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:ae8bae10-e34d-11ed-935f-a9971878b9d8,key:kubernetes.pod_name.keyword,negate:!f,params:(query:'${__data.fields[1]}'),type:phrase),query:(match_phrase:(kubernetes.pod_name.keyword:'${__data.fields[1]}'))),('$state':(store:appState),meta:(alias:!n,disabled:!f,index:ae8bae10-e34d-11ed-935f-a9971878b9d8,key:kubernetes.container_name.keyword,negate:!f,params:(query:${__data.fields[0]}),type:phrase),query:(match_phrase:(kubernetes.container_name.keyword:${__data.fields[0]})))),index:ae8bae10-e34d-11ed-935f-a9971878b9d8,interval:auto,query:(language:kuery,query:''),sort:!())"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Pod"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "",
                        "url": "https://pod3.robomq.io:3000/d/P-mUk_mIk/logs-dashboard?orgId=1&var-Namespace=${__data.fields[2]}﻿﻿&var-Pod=﻿﻿${__data.fields[1]}﻿﻿﻿&var-Container=﻿﻿﻿${__data.fields[0]}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 1
          },
          "id": 153,
          "links": [],
          "options": {
            "footer": {
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "8.3.4",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": false,
              "expr": "kube_pod_container_status_waiting_reason",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "{{pod}}  | {{container}}  |  {{namespace}}  |  {{reason}}",
              "refId": "A"
            }
          ],
          "title": "Failed Pods/Containers",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value": true,
                  "__name__": true,
                  "app_kubernetes_io_component": true,
                  "app_kubernetes_io_instance": true,
                  "app_kubernetes_io_managed_by": true,
                  "app_kubernetes_io_name": true,
                  "app_kubernetes_io_part_of": true,
                  "app_kubernetes_io_version": true,
                  "helm_sh_chart": true,
                  "instance": true,
                  "job": true,
                  "node": true,
                  "service": true,
                  "uid": true
                },
                "indexByName": {
                  "Time": 0,
                  "Value": 18,
                  "__name__": 1,
                  "app_kubernetes_io_component": 2,
                  "app_kubernetes_io_instance": 4,
                  "app_kubernetes_io_managed_by": 3,
                  "app_kubernetes_io_name": 7,
                  "app_kubernetes_io_part_of": 5,
                  "app_kubernetes_io_version": 6,
                  "container": 12,
                  "helm_sh_chart": 8,
                  "instance": 9,
                  "job": 10,
                  "namespace": 14,
                  "node": 11,
                  "pod": 13,
                  "reason": 15,
                  "service": 16,
                  "uid": 17
                },
                "renameByName": {
                  "container": "Container",
                  "namespace": "Namespace",
                  "pod": "Pod",
                  "reason": "Reason"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 9
          },
          "id": 159,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 9,
            "w": 3,
            "x": 0,
            "y": 9.7
          },
          "id": 164,
          "options": {
            "content": "Active Workflow Queues with Ready Messages.",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 9,
            "w": 21,
            "x": 3,
            "y": 9.7
          },
          "hiddenSeries": false,
          "id": 154,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "(label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_messages_ready{queue=~\"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice)\"} != 0, \"RC\", \"$2-$3-$4-$5-$6\", \"queue\", \"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice)\") >= label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_messages_ready{queue=~\"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice)\"} offset 1m != 0, \"RC\", \"$2-$3-$4-$5-$6\", \"queue\", \"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice)\"))\r\n",
              "interval": "",
              "legendFormat": "{{queue}}   |   {{vhost}}  ",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Queue(s) with Ready Messages",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:167",
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:168",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 18.7
          },
          "id": 160,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 10,
            "w": 3,
            "x": 0,
            "y": 19.4
          },
          "id": 156,
          "options": {
            "content": "Active Workflow Queues with unacked messages.",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 21,
            "x": 3,
            "y": 19.4
          },
          "hiddenSeries": false,
          "id": 155,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "(label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_messages_unacked{queue=~\"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice|.1.1.JiraWorkManagement.In|.1.1.ServiceNow.In|.1.1.JiraServiceManagement.In|.1.1.JiraSoftware.In)\"} > 1, \"RC\", \"$2-$3-$4-$5-$6\", \"queue\", \"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice|.1.1.JiraWorkManagement.In|.1.1.ServiceNow.In|.1.1.JiraServiceManagement.In|.1.1.JiraSoftware.In)\") >= label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_messages_unacked{queue=~\"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice|.1.1.JiraWorkManagement.In|.1.1.ServiceNow.In|.1.1.JiraServiceManagement.In|.1.1.JiraSoftware.In)\"} offset 5m > 1, \"RC\", \"$2-$3-$4-$5-$6\", \"queue\", \"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice|.1.1.JiraWorkManagement.In|.1.1.ServiceNow.In|.1.1.JiraServiceManagement.In|.1.1.JiraSoftware.In)\"))\r\n",
              "interval": "",
              "legendFormat": "{{queue}}   |   {{vhost}}  ",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Queue(s) with Unacked Messages",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:167",
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:168",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 29.4
          },
          "id": 161,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 7,
            "w": 3,
            "x": 0,
            "y": 30.099999999999998
          },
          "id": 165,
          "options": {
            "content": "Active Workflow Queues with No Consumers.",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 21,
            "x": 3,
            "y": 30.099999999999998
          },
          "hiddenSeries": false,
          "id": 157,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_consumers{queue=~\"(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.1.1.(.*).In)\"}, \"RC\", \"$1-$2-$3-$4-$5\", \"queue\", \"(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.1.1.(.*).In)\") == 0\r\n\r\n",
              "interval": "",
              "legendFormat": "{{queue}}   |   {{vhost}}  ",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Queue(s) with No Consumers",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:167",
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:168",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        }
      ],
      "title": "Customers",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 124,
      "panels": [
        {
          "gridPos": {
            "h": 9,
            "w": 3,
            "x": 0,
            "y": 3.6
          },
          "id": 149,
          "options": {
            "content": "List of worker nodes with memory consumption >70% and master nodes with memory consumption >60%",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fieldConfig": {
            "defaults": {
              "unit": "percent"
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 9,
            "w": 21,
            "x": 3,
            "y": 3.6
          },
          "hiddenSeries": false,
          "id": 57,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 100,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "(\r\n  label_replace(kube_node_role{role=\"master\"}, \"role\", \"master\", \"role\", \"master\") *\r\n  on(node) group_left() (\r\n    (\r\n      node_memory_MemTotal_bytes - node_memory_MemFree_bytes - node_memory_Buffers_bytes - node_memory_Cached_bytes - node_memory_SReclaimable_bytes\r\n    ) * 100 / node_memory_MemTotal_bytes > 60\r\n  )\r\n)\r\nor\r\n(\r\n  label_replace(kube_node_role{role=\"node\"}, \"role\", \"worker\", \"role\", \"node\") *\r\n  on(node) group_left() (\r\n    (\r\n      node_memory_MemTotal_bytes - node_memory_MemFree_bytes - node_memory_Buffers_bytes - node_memory_Cached_bytes - node_memory_SReclaimable_bytes\r\n    ) * 100 / node_memory_MemTotal_bytes > 70\r\n  )\r\n)\r\n",
              "interval": "10s",
              "intervalFactor": 1,
              "legendFormat": "{{node}}  |  {{role}}",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Node(s) with high memory consumption",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:634",
              "format": "percent",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:635",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 12.6
          },
          "id": 133,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fieldConfig": {
            "defaults": {
              "unit": "percent"
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 13.299999999999999
          },
          "hiddenSeries": false,
          "id": 58,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 100,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "\r\n(\r\n  label_replace(sum by (kubernetes_io_hostname, kubernetes_io_role) (rate (container_cpu_usage_seconds_total{image!=\"\"}[3m])) * 100, \"kubernetes_io_role\", \"worker\", \"kubernetes_io_role\", \"node\") / \r\n  label_replace(sum by (kubernetes_io_hostname, kubernetes_io_role) (machine_cpu_cores), \"kubernetes_io_role\", \"worker\", \"kubernetes_io_role\", \"node\")\r\n)>15",
              "interval": "10s",
              "intervalFactor": 1,
              "legendFormat": "{{kubernetes_io_hostname}}  |  {{kubernetes_io_role}}",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Node(s) with CPU consumption >15%",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:977",
              "format": "percent",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:978",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 20.299999999999997
          },
          "id": 136,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fieldConfig": {
            "defaults": {
              "unit": "percent"
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 20.999999999999996
          },
          "hiddenSeries": false,
          "id": 65,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "maxDataPoints": 100,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": " (container_fs_usage_bytes{device=~\"/dev/root\",id=\"/\"}) /  (container_fs_limit_bytes{device=~\"/dev/root\",id=\"/\"}) * 100 >50",
              "interval": "10s",
              "intervalFactor": 1,
              "legendFormat": "{{kubernetes_io_hostname}}",
              "metric": "",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Nodes with file-system(Disk) usage >30%",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:959",
              "format": "percent",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:960",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 26.999999999999996
          },
          "id": 137,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "displayMode": "auto"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 27.699999999999996
          },
          "id": 50,
          "options": {
            "footer": {
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true
          },
          "pluginVersion": "8.3.4",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": false,
              "expr": "kube_pod_container_status_waiting_reason",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "{{pod}}  | {{container}}  |  {{namespace}}  |  {{reason}}",
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "kube_pod_status_phase{namespace=\"your-namespace\", label_app=\"your-app\"}\r\n",
              "hide": false,
              "interval": "",
              "legendFormat": "{{pod}}  |  {{container}}  |  {{namespace}} |  {{phase}}",
              "refId": "B"
            }
          ],
          "title": "Failed Containers",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value": true,
                  "__name__": true,
                  "app_kubernetes_io_component": true,
                  "app_kubernetes_io_instance": true,
                  "app_kubernetes_io_managed_by": true,
                  "app_kubernetes_io_name": true,
                  "app_kubernetes_io_part_of": true,
                  "app_kubernetes_io_version": true,
                  "container": false,
                  "helm_sh_chart": true,
                  "instance": true,
                  "job": true,
                  "node": true,
                  "service": true,
                  "uid": true
                },
                "indexByName": {
                  "Time": 0,
                  "Value": 18,
                  "__name__": 1,
                  "app_kubernetes_io_component": 2,
                  "app_kubernetes_io_instance": 3,
                  "app_kubernetes_io_managed_by": 4,
                  "app_kubernetes_io_name": 5,
                  "app_kubernetes_io_part_of": 6,
                  "app_kubernetes_io_version": 7,
                  "container": 8,
                  "helm_sh_chart": 9,
                  "instance": 10,
                  "job": 11,
                  "namespace": 14,
                  "node": 12,
                  "pod": 13,
                  "reason": 15,
                  "service": 16,
                  "uid": 17
                },
                "renameByName": {
                  "container": "Container",
                  "namespace": "Namespace",
                  "pod": "Pod",
                  "reason": "Reason"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 33.699999999999996
          },
          "id": 138,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 8,
            "w": 3,
            "x": 0,
            "y": 34.4
          },
          "id": 116,
          "options": {
            "content": "Flow container(s) with memory usage >220Mb.",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fieldConfig": {
            "defaults": {
              "unit": "bytes"
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 21,
            "x": 3,
            "y": 34.4
          },
          "hiddenSeries": false,
          "id": 96,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "(sum by (pod,container, namespace) (container_memory_working_set_bytes{image!=\"\",pod=~\"(.*)-(........)-(....)-(....)-(....)-(............)-(.....)\"}) ) >230686720",
              "interval": "",
              "legendFormat": "{{pod}}  |  {{container}}  |  {{namespace}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Flow Container(s) Memory Usage (>220 MiB)",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:107",
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:108",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 42.4
          },
          "id": 139,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 8,
            "w": 3,
            "x": 0,
            "y": 43.1
          },
          "id": 117,
          "options": {
            "content": "Memory usage of pods with critically high memory usage.\r\n<p>\r\n<a href=https://robomq.sharepoint.com/:u:/r/sites/OperationsPortal/SitePages/Pods-with-critically-high-memory-Consumtion-Grafan-Dashboard-Panel.aspx?csf=1&web=1&e=CpKdpI target=\"_blank\"> Learn More.... </a>\r\n</p>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fieldConfig": {
            "defaults": {
              "unit": "bytes"
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 21,
            "x": 3,
            "y": 43.1
          },
          "hiddenSeries": false,
          "id": 95,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "(\r\n(\r\n    sum(container_memory_usage_bytes{container!=\"\"}) by (pod, namespace)\r\n      / on (pod) group_left(container)\r\n    sum(kube_pod_container_resource_limits{resource=\"memory\"}) by (pod, namespace)\r\n  )\r\n  * sum(kube_pod_info{namespace=~\"default|istio-system|kube-logging|aws-cost-alarm|cluster-balancer\"}) by (pod,namespace) >0.8\r\n) * sum(kube_pod_container_resource_limits{resource=\"memory\"}) by (pod, namespace)\r\n\r\nor\r\n(\r\n  (\r\n    sum(container_memory_usage_bytes{container!=\"\"}) by (pod, namespace)\r\n      / on (pod) group_left(container)\r\n    sum(kube_pod_container_resource_requests{resource=\"memory\"}) by (pod, namespace)\r\n    unless\r\n    sum(kube_pod_container_resource_limits{resource=\"memory\"}) by (pod,namespace)\r\n  )\r\n  * sum(kube_pod_info{namespace=~\"default|istio-system|kube-logging|aws-cost-alarm|cluster-balancer\"}) by (pod,namespace) >1.6\r\n) * sum(kube_pod_container_resource_requests{resource=\"memory\"}) by (pod, namespace)\r\nor (\r\n  (\r\n    sum(container_memory_usage_bytes{container!=\"\"}) by (pod, namespace)\r\n    unless\r\n    (sum(kube_pod_container_resource_limits{resource=\"memory\"}) by (pod,namespace) and sum(kube_pod_container_resource_requests{resource=\"memory\"}) by (pod,namespace))\r\n  )\r\n  * sum(kube_pod_info{namespace=~\"default|istio-system|kube-logging|aws-cost-alarm|cluster-balancer\"}) by (pod,namespace)\r\n)>1073741824\r\n\r\n\r\n",
              "interval": "",
              "legendFormat": "{{pod}}  |  {{namespace}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Pods with Critically High Memory Consumption",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:107",
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:108",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 51.1
          },
          "id": 134,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 7,
            "w": 3,
            "x": 0,
            "y": 51.800000000000004
          },
          "id": 118,
          "options": {
            "content": "Nodes with sum of memory <a href= \"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#requests-and-limits\" target=\"_blank\">requests </a> >85% of total node memory\r\n<p>\r\n<a href=https://robomq.sharepoint.com/sites/OperationsPortal/SitePages/CPU-Memory-Limits-and-Requests-Explanation.aspx target=\"_blank\"> Learn More.... </a>\r\n</p>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "decimals": 3,
          "editable": true,
          "error": false,
          "fill": 0,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 21,
            "x": 3,
            "y": 51.800000000000004
          },
          "height": "",
          "hiddenSeries": false,
          "id": 47,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": 350,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": true,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "label_replace(100 * sum by(node) (kube_pod_container_resource_requests{resource=\"memory\"}), \"kubernetes_io_hostname\", \"$1\", \"node\", \"(.*)\") / on(kubernetes_io_hostname) group_left() sum by(kubernetes_io_hostname, kubernetes_io_role) (machine_memory_bytes) \r\n>85\r\n",
              "hide": false,
              "interval": "10s",
              "intervalFactor": 10,
              "legendFormat": " {{ node }}",
              "metric": "container_cpu",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Node Allocated Memory ( >85%)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 2,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:330",
              "format": "percent",
              "label": "",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:331",
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 58.800000000000004
          },
          "id": 140,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 7,
            "w": 3,
            "x": 0,
            "y": 59.50000000000001
          },
          "id": 148,
          "options": {
            "content": "Nodes with sum of CPU <a href= \"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#requests-and-limits\" target=\"_blank\">requests </a> >80% of total node CPU\r\n<p>\r\n<a href=https://robomq.sharepoint.com/sites/OperationsPortal/SitePages/CPU-Memory-Limits-and-Requests-Explanation.aspx target=\"_blank\"> Learn More.... </a>\r\n</p>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "decimals": 3,
          "editable": true,
          "error": false,
          "fill": 0,
          "fillGradient": 0,
          "grid": {},
          "gridPos": {
            "h": 7,
            "w": 21,
            "x": 3,
            "y": 59.50000000000001
          },
          "height": "",
          "hiddenSeries": false,
          "id": 48,
          "isNew": true,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sideWidth": 350,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 2,
          "links": [],
          "nullPointMode": "connected",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": true,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "label_replace(100 * sum by (node) (kube_pod_container_resource_requests{resource=\"cpu\"}), \"kubernetes_io_hostname\", \"$1\", \"node\", \"(.*)\") / on (kubernetes_io_hostname) group_left() sum (machine_cpu_cores) by (kubernetes_io_hostname, kubernetes_io_role)\r\n>80",
              "hide": false,
              "interval": "10s",
              "intervalFactor": 10,
              "legendFormat": " {{ node }}",
              "metric": "container_cpu",
              "refId": "A",
              "step": 10
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Node Allocated CPU ( >80%)",
          "tooltip": {
            "msResolution": true,
            "shared": true,
            "sort": 2,
            "value_type": "cumulative"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:330",
              "format": "percent",
              "label": "cores",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:331",
              "format": "short",
              "logBase": 1,
              "show": false
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 66.5
          },
          "id": 135,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        }
      ],
      "title": "Kubernetes",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 2
      },
      "id": 122,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fieldConfig": {
            "defaults": {
              "unit": "percent"
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 0,
            "y": 4.6
          },
          "hiddenSeries": false,
          "id": 98,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "100 * (sum by(instance) (rabbitmq_detailed_process_resident_memory_bytes / rabbitmq_detailed_resident_memory_limit_bytes{job=~\"broker(.)+ObjectMetrics\"})) >30",
              "interval": "",
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Broker Node(s) with Memory Usage >30%",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:4509",
              "format": "percent",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:4510",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fieldConfig": {
            "defaults": {
              "unit": "percent"
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 12,
            "y": 4.6
          },
          "hiddenSeries": false,
          "id": 100,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "100-(rabbitmq_detailed_disk_space_available_bytes{job=~\"broker(.)+ObjectMetrics\"} / 1024 / 1024 / 1024 )>25",
              "interval": "",
              "legendFormat": "{{instance}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Broker Node(s) with Disk Usage >25%",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:4593",
              "format": "percent",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:4594",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 14.6
          },
          "id": 141,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 10,
            "w": 3,
            "x": 0,
            "y": 15.299999999999999
          },
          "id": 126,
          "options": {
            "content": "List of all queues across the broker with memory usage >200MiB.",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 21,
            "x": 3,
            "y": 15.299999999999999
          },
          "hiddenSeries": false,
          "id": 103,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "sort": "current",
            "sortDesc": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "rabbitmq_detailed_queue_messages_ram_bytes{queue!=\"\"}>209715200",
              "interval": "",
              "legendFormat": "{{queue}}  |  {{vhost}}",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Queue Memory Usage (>200 MiB)",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:396",
              "format": "bytes",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:397",
              "format": "bytes",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 25.299999999999997
          },
          "id": 146,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 8,
            "w": 3,
            "x": 0,
            "y": 25.999999999999996
          },
          "id": 127,
          "options": {
            "content": "List of all queues across the broker with ready messages >25000.",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 21,
            "x": 3,
            "y": 25.999999999999996
          },
          "hiddenSeries": false,
          "id": 105,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "rabbitmq_detailed_queue_messages{queue!=\"\"}>25000",
              "interval": "",
              "legendFormat": "{{queue}}  {Vhost: {{vhost}} }",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Too Many Ready Messages (>25000)",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:188",
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:189",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 34
          },
          "id": 145,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 9,
            "w": 3,
            "x": 0,
            "y": 34.7
          },
          "id": 128,
          "options": {
            "content": "Active Workflow Queues/Business Queues with ready messages.",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 9,
            "w": 21,
            "x": 3,
            "y": 34.7
          },
          "hiddenSeries": false,
          "id": 107,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "(label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_messages_ready{queue=~\"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice)\"} != 0, \"RC\", \"$2-$3-$4-$5-$6\", \"queue\", \"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice)\") >= label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_messages_ready{queue=~\"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice)\"} offset 1m != 0, \"RC\", \"$2-$3-$4-$5-$6\", \"queue\", \"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice)\"))\r\n\r\nor\r\n\r\n(rabbitmq_detailed_queue_messages_ready{queue=~\"Hire2Retire.(.*).[iI]n|ifdMessage\"} != 0 >= rabbitmq_detailed_queue_messages_ready{queue=~\"Hire2Retire.(.*).[iI]n|ifdMessage\"} offset 1m != 0)",
              "interval": "",
              "legendFormat": "{{queue}}   |   {{vhost}}  ",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Queue(s) with Ready Messages",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:167",
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:168",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 43.7
          },
          "id": 143,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 10,
            "w": 3,
            "x": 0,
            "y": 44.400000000000006
          },
          "id": 129,
          "options": {
            "content": "Active Workflow Queues/Business Queues with unacked messages.",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 10,
            "w": 21,
            "x": 3,
            "y": 44.400000000000006
          },
          "hiddenSeries": false,
          "id": 108,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": true,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": true
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "(label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_messages_unacked{queue=~\"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice|.1.1.JiraWorkManagement.In|.1.1.ServiceNow.In|.1.1.JiraServiceManagement.In|.1.1.JiraSoftware.In)\"} > 1, \"RC\", \"$2-$3-$4-$5-$6\", \"queue\", \"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice|.1.1.JiraWorkManagement.In|.1.1.ServiceNow.In|.1.1.JiraServiceManagement.In|.1.1.JiraSoftware.In)\") >= label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_messages_unacked{queue=~\"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice|.1.1.JiraWorkManagement.In|.1.1.ServiceNow.In|.1.1.JiraServiceManagement.In|.1.1.JiraSoftware.In)\"} offset 5m > 1, \"RC\", \"$2-$3-$4-$5-$6\", \"queue\", \"(hire2retire.|)(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.eventservice|.1.1.JiraWorkManagement.In|.1.1.ServiceNow.In|.1.1.JiraServiceManagement.In|.1.1.JiraSoftware.In)\"))\r\n\r\nor\r\n\r\n(rabbitmq_detailed_queue_messages_unacked{queue=~\"Hire2Retire.(.*).[iI]n|ifdMessage\"} != 0 >= rabbitmq_detailed_queue_messages_unacked{queue=~\"Hire2Retire.(.*).[iI]n\"} offset 1m != 0)",
              "interval": "",
              "legendFormat": "{{queue}}   |   {{vhost}}  ",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Queue(s) with Unacked Messages",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:167",
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:168",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 54.400000000000006
          },
          "id": 144,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "gridPos": {
            "h": 7,
            "w": 3,
            "x": 0,
            "y": 55.10000000000001
          },
          "id": 130,
          "options": {
            "content": "Active Workflow Queues/Business Queues with no consumers.",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 21,
            "x": 3,
            "y": 55.10000000000001
          },
          "hiddenSeries": false,
          "id": 109,
          "legend": {
            "alignAsTable": true,
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "rightSide": true,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "8.3.4",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "Uq7BFf64k"
              },
              "exemplar": true,
              "expr": "label_replace(kube_replicationcontroller_status_replicas{replicationcontroller=~\"(.*)-(........)-(....)-(....)-(....)-(............)\"} == 1, \"RC\", \"$2-$3-$4-$5-$6\", \"replicationcontroller\", \"(.*)-(........)-(....)-(....)-(....)-(............)\") * on(RC) group_right() label_replace(rabbitmq_detailed_queue_consumers{queue=~\"(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.1.1.(.*).In)\"}, \"RC\", \"$1-$2-$3-$4-$5\", \"queue\", \"(........)-(....)-(....)-(....)-(............)(.1.In|.smtp|.1.1.In|.1.1.(.*).In)\") == 0\r\n\r\nor\r\n\r\n(rabbitmq_detailed_queue_consumers{queue=~\"Hire2Retire.(.*).[iI]n|ifdMessage\"} == 0)",
              "interval": "",
              "legendFormat": "{{queue}}   |   {{vhost}}  ",
              "refId": "A"
            }
          ],
          "thresholds": [],
          "timeRegions": [],
          "title": "Queue(s) with no consumers",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "mode": "time",
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:167",
              "format": "short",
              "logBase": 1,
              "show": true
            },
            {
              "$$hashKey": "object:168",
              "format": "short",
              "logBase": 1,
              "show": true
            }
          ],
          "yaxis": {
            "align": false
          }
        },
        {
          "gridPos": {
            "h": 0.7,
            "w": 24,
            "x": 0,
            "y": 62.10000000000001
          },
          "id": 147,
          "options": {
            "content": "<h1 style=\"background-color:Black;\"}>.</h1>",
            "mode": "html"
          },
          "pluginVersion": "8.3.4",
          "type": "text"
        }
      ],
      "title": "Broker",
      "type": "row"
    }
  ],
  "refresh": "1m",
  "schemaVersion": 34,
  "style": "dark",
  "tags": [
    "kubernetes"
  ],
  "templating": {
    "list": []
  },
  "time": {
    "from": "now-5m",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "Alarm Dashboard",
  "uid": "6JflzJgSk",
  "version": 65,
  "weekStart": ""
}
